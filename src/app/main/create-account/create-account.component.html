<form action="" [formGroup]="userform" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-group p-2 border border-2 rounded">
        <h3 class="text-center bg-dark text-light rounded py-1" (click)="hidden=!hidden">New User</h3>
        <div>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" name="username" id="username" class="form-control" placeholder="username" aria-describedby="helpId" formControlName="username">
                <small [hidden]="true" id="helpId" class="text-muted">Help text</small>
            </div>        
            <div class="form-group">
                <label for="email">Email</label>
                <input email type="email" class="form-control" name="email" id="email" aria-describedby="emailHelpId" placeholder="email" formControlName="email">
                <small [hidden]="true" id="emailHelpId" class="form-text text-muted">emailHelpId</small>
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="text" class="form-control" name="password" id="password" placeholder="password" formControlName="password">
            </div>
            <div class="form-group">
                <label for="roles">Role</label>
                <select name="roles" id="roles" class="form-control" formControlName="roles">
                    <option value="user">User</option>select
                    <option value="admin">Admin</option>
                </select>
            </div>
            <div class="form-group btn-group col-12 py-2">
                <button [disabled]="!userform.valid" type="submit" class="btn btn-primary form-control">Submit</button>
                <button type="reset" class="btn btn-secondary form-control">Reset</button>
            </div>
        </div>        
    </div>
</form>
<div *ngIf="!username?.valid && (username?.touched||username?.dirty)">
    <div [hidden]="!username.errors.required"> 
        Username required.
    </div>
    <div [hidden]="!username.errors.minlength&&!username.errors.maxlength"> 
        Username length must be between 6 to 15.
    </div>
    <div [hidden]="!username.errors.uniqueUsername"> 
        This username exists. Choose a different username.
    </div>
</div> 
<div *ngIf="username?.valid && (username?.touched||username?.dirty)"> 
    This username is available
</div>
<div *ngIf="email.errors?.uniqueEmail && (email?.touched||email?.dirty)"> 
    This email exists.
</div>
<div *ngIf="!password?.valid && (password?.touched||password?.dirty)">
    <div [hidden]="!password.errors.required"> 
        Password required.
    </div>
    <div [hidden]="!password.errors.pattern"> 
        Password must contain at least 8 characters, 1 upper case, 1 digit, 1 special character.
    </div>
</div> 
