<div class="container-fluid">
    <div *ngIf="islogged" class="row">
        <app-nav-menu></app-nav-menu>
    </div>
    <div class="row">
        <h1 class="text-center mt-2">Settings</h1>
    </div>
    <div class="container pb-3" style="box-shadow: 0px 0px 5px black;border-radius: 5px;">
        <div class="row p-2">
            <h3 class="text-center bg-dark text-light py-1 rounded" id="allCursHeader">
                <button class="btn btn-dark" (click)="back()"><i class="fa-solid fa-arrow-left"></i></button>                    
                New User
            </h3>
        </div>
        <div class="row">
            <form action="" [formGroup]="userform" (ngSubmit)="onSubmit()" novalidate>
                <div class="form-group p-2 border border-2 rounded">
                    <div>
                        <div class="form-group">
                            <label for="username">Username</label>
                            <input type="text" name="username" id="username" class="form-control" placeholder="username" aria-describedby="helpId" formControlName="username">
                            
                        </div>        
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input email type="email" class="form-control" name="email" id="email" aria-describedby="emailHelpId" placeholder="email" formControlName="email">
                            
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="text" class="form-control" name="password" id="password" placeholder="password" formControlName="password">
                        </div>
                        <div class="form-group">
                            <label for="roles">Role</label>
                            <select name="roles" id="roles" class="form-control" formControlName="roles">
                                <option *ngFor="let i of Roles" value="{{i}}">{{i}}</option>
                            </select>
                        </div>
                        <div class="form-group btn-group col-12 py-2">
                            <button [disabled]="!userform.valid" type="submit" class="btn btn-primary form-control">Submit</button>
                            <button type="reset" class="btn btn-secondary form-control">Reset</button>
                        </div>
                    </div>        
                </div>
            </form>
            <div *ngIf="!username?.valid && (username?.touched||username?.dirty)">
                <div [hidden]="!username.errors.required"> 
                    Username required.
                </div>
                <div [hidden]="!username.errors.minlength&&!username.errors.maxlength"> 
                    Username length must be between 6 to 15.
                </div>
                <div [hidden]="!username.errors.uniqueUsername"> 
                    This username exists. Choose a different username.
                </div>
            </div> 
            <div *ngIf="username?.valid && (username?.touched||username?.dirty)"> 
                This username is available
            </div>
            <div *ngIf="email.errors?.uniqueEmail && (email?.touched||email?.dirty)"> 
                This email exists.
            </div>
            <div *ngIf="!password?.valid && (password?.touched||password?.dirty)">
                <div [hidden]="!password.errors.required"> 
                    Password required.
                </div>
                <div [hidden]="!password.errors.pattern"> 
                    Password must contain at least 8 characters, 1 upper case, 1 digit, 1 special character.
                </div>
            </div>
        </div> 
    </div>
</div>


 
